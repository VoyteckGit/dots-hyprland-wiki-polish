---
title: Instalacja / Aktualizacja / Odinstalacja
layout: /src/layouts/autonum.astro
lastUpdated: !TODO2025-03-31
---

# Instalacja
## Zanim zaczniesz

-  To tylko zapewnia **user-level customization**. Instalacja GNOME w tym procesie prawdopodobnie dostarczy Ci trochę (podstawowych) elementów systemowych, jak sieć, bluetooth itp., ale zakłada się, że już to sam skonfigurowałeś.
- EndeavourOS jest zalecany, by zaoszczędzić ci trochę kłopotów
   - Inne dystrybucje oparte na Arch również będą działać poprawnie
   - Używasz dystrybucji nieopartej na Arch? Spróbuj znaleźć swoją na stronie [Dyskusje](https://github.com/end-4/dots-hyprland/discussions)  
   - Nigdy nie jest konieczne reinstalowanie systemu dla dotfiles!

## Automatyczna instalacja (tylko dla dystrybucji opratych na Arch)
**Zalecana metoda**

Wystarczy uruchomić to jedno polecenie i postępować zgodnie z instrukcjami skryptu:
```bash
bash <(curl -s "https://end-4.github.io/dots-hyprland-wiki/setup.sh")
```
Powyższe polecenie domyślnie klonuje repozytorium do `~/.cache/dots-hyprland`. Możesz zmienić tę ścieżkę, podając ją jako argument:
```bash
bash <(curl -s "https://end-4.github.io/dots-hyprland-wiki/setup.sh") ~/Downloads/dots-hyprland
```

:::note[Metoda alternatywna]
Albo po prostu sklonuj repozytorium i uruchom skrypt instalacyjny:
```bash
t=~/.cache/dots-hyprland   # Nie zaśmiecajmy katalogu domowego
git clone https://github.com/end-4/dots-hyprland.git "$t" --filter=blob:none
"$t"/install.sh
```
:::

:::tip[Porada]
Skrypt `install.sh` jest idempotentny i interaktywny.
Możesz uruchamiać go wielokrotnie i wybierać tylko niektóre akcje.
:::

## Dla NixOS (eksperymentalnie)
- Aktualnie te dotfiles nie są (jeszcze?) oferowane jako flake.
- Możesz jednak sprawdzić [NixOS flake end_4](https://github.com/end-4/CirnOS)
  - Zawiera konfigurację home-manager. Sprawdź katalog `homes`.

- Zobacz jeszcze https://github.com/end-4/dots-hyprland/discussions/1093

## Dla OpenSUSE (eksperymentalnie)
- Zobacz https://github.com/end-4/dots-hyprland/discussions/485

## Dla Fedora (eksperymentalnie)
- Zobacz https://github.com/EisregenHaha/fedora-hyprland
  
- Zobacz jescze (starsza dyskusja): https://github.com/end-4/dots-hyprland/discussions/840
  
## Instalacja ręczna (zasadniczo każda dystrybucja)
:::note[Uwaga dla dystrybucji nieopartych na Arch]
Musisz sam znaleźć odpowiedniki pakietów z wartości tablicy `depends` wewnątrz plików `scriptdata/arch-packages/*/PKGBUILD`, gdy będziesz instalować zależności
- Aby uzyskać informacje o pakiecie (np. jakie pliki wykonywalne zawiera), wyszukaj go na [Arch Linux Packages](https://archlinux.org/packages) albo [AUR](https://aur.archlinux.org/packages).
- Jeśli udało Ci się pomyślnie zakończyć instalację na jakiejś dystrybucji Linux nieopartej na Arch, mile widziane jest podzielenie się listą pakietów (oraz ewentualnymi dodatkowymi krokami) w [Dyskusjach](https://github.com/end-4/dots-hyprland/discussions), być może uda się to zautomatyzować w przyszłości. Dzięki!
:::

- Sklonuj repozytorium i przejdź do katalogu
  ```bash
  t=~/.cache/dots-hyprland   # Nie zaśmiecajmy katalogu domowego
  git clone https://github.com/end-4/dots-hyprland.git "$t" --filter=blob:none
  cd "$t"
  ```
- Pobierz pakiety: Zainstaluj wszystkie pakiety wymienione w tablicy `depends` wewnątrz `scriptdata/arch-packages/*/PKGBUILD`. Dla Arch Linux po prostu użyj pomocnika AUR, np. `yay`.

- Uruchom `manual-install-helper.sh`, aby zainstalować resztę zależności.
  - Możesz też zamiast tego zainstalować odpowiednie alternatywy, które znalazłeś, ale pamiętaj o `git checkout` do wymaganego commita przy instalowaniu AGS.
- Dodaj użytkownika do grupy `video` i `input`
  ```bash
  sudo usermod -aG video,input "$(whoami)" # jeśli to nie działa, wpisz własną nazwę użytkownika zamiast "$(whoami)"
  ```
- Skopiuj `.config`, `.local` do swojego katalogu domowego (przejrzyj je wcześniej, aby nie nadpisać własnych plików konfiguracyjnych).

- Zacznij od tych skrótów klawiszowych
  - `Ctrl`+`Super`+`T` aby wybrać tapetę
  - `Super`+`/` aby zobaczyć liste skrótów. Miłej zabawy!

# Po instalacji
## Nie aż tak opcjonalne rzeczy
### motywy Qt
- Wybierz KVantum w oknach, które pojawią się po uruchomieniu:
```sh
kcmshell6 kcm_style
kcmshell6 kcm_colors
```
### Zapobieganie konfliktom demonów powiadomień
- Demony powiadomień jak `dunst` i `mako` mogą być dostarczone z własnymi dostosowaniami dystrybucji i mogą powodować problemy z AGS, jeśli uruchomią się pierwsze. Zaleca się ich odinstalowanie, jeśli nie używasz ich gdzie indziej.
## Opcjonalne rzeczy
### Extra konfiguracje
Sprawdź folder `Extras`, może coś Cię zainteresuje.
### Integracja multimediów z przeglądarką
Jeśli chcesz, by miniaturki multimediów z przeglądarki były pokazywane, zainstaluj rozszerzenie "Plasma browser integration".
- Dla [Chromium](https://chrome.google.com/webstore/detail/plasma-integration/cimiefiiaegbelhefglklhhakcgmhkai)
- Dla [Firefox](https://addons.mozilla.org/en-US/firefox/addon/plasma-integration/)

### Schemat kolorów dla ZSH
Dodaj tę linię do swojego `~/.zshrc`, aby wspierać schemat kolorów dla ZSH:
```bash
source ~/.config/zshrc.d/dots-hyprland.zsh
```

## Uruchamianie Hyprland
- Hyprland możesz uruchomić przy pomocy DM (Display Manager) lub z `tty`.
- Wiki Hyprland zaleca uruchamianie Hyprland z sesją zarządzaną przez uswm, ale ja tego nie polecam. Używanie jej nie psuje dotfiles, ale pamiętaj, że możesz dostać autostartowane śmieci z innych środowisk graficznych (np. duplikaty okien dialogowych uwierzytelniania)

Zobacz [Hyprland wiki](https://wiki.hyprland.org/Getting-Started/Master-Tutorial/#launching-hyprland) po szczegóły. Poniżej kilka dodatkowych wskazówek.

### Jak automatycznie uruchamiać Hyprland po zalogowaniu na `tty1`?
Dla ZSH lub BASH dodaj tę linię na **końcu** swojego `~/.zshrc` lub `~/.bashrc`:
```bash
source ~/.config/zshrc.d/auto-Hypr.sh
```

Dla FISH dodaj tę linię na **końcu** swojego  `~/.config/fish/config.fish`:
```fish
source ~/.config/fish/auto-Hypr.fish
```

P.S. Zaleca się wyłączenie DM, jeśli chcesz uruchamiać Hyprland przez tty.

### Jestem nowy. Co to jest tty i DM?

Oto krótkie wyjaśnienie, by dać Ci szybki pogląd, choć nie do końca precyzyjne.

Możesz traktować `tty` jako pewną "bazę" systemu Linux.
Zwykle jest 7 `tty`: `tty1` do `tty7`. Możesz wcisnąć `Ctrl+Alt+F<n>`, aby przełączyć się na `tty<n>` i wpisać login oraz hasło.

Po zalogowaniu możesz uruchomić środowisko graficzne poleceniem, np. `Hyprland`.
Właściwie większość interfejsów graficznych może zostać uruchomiona dopiero **po zalogowaniu**.

Ale co, jeśli chcemy graficzny interfejs logowania?

Tu wchodzi DM (Display Manager, inaczej „LM” – Login Manager).
- Popularne DM:
  - `sddm`: Często używany z KDE Plasma.
  - `gdm`: często używany z GNOME.
- Jest włączony na poziomie systemowym i uruchamia się automatycznie po starcie systemu (jeszcze przed logowaniem).
  - Na dystrybucji opartej na systemd DM jest zwykle włączony jako usługa systemd. Uruchom poniższy kod aby zobaczyć który DM jest używanu:
    ```bash
    grep 'ExecStart=' /etc/systemd/system/display-manager.service
    ```
    Jeśli zwróci „No such file or directory”, to DM nie jest włączony albo to nie jest dystrybucja oparta na systemd.
- DM daje Ci graficzny interfejs logowania i wyboru środowiska graficznego (np. Hyprland).
  - Skąd DM wie, jakie środowiska są dostępne?
    - Zwykle przeszukuje `/usr/share/xsessions` dla środowisk X11 i `/usr/share/wayland-sessions` dla środowisk Wayland.
    - Pliki desktop w tych katalogach zawierają informacje o środowiskach graficznych.

# Aktualizacja
## Instalacja automatyczna
- `cd` do katalogu repozytorium
- Uruchom `git pull`, aby pobrać najnowsze zmiany.
- Uruchom `./install.sh` ponownie
  - Pomiń kroki, których nie chcesz (szczególnie `rsync ...` bo **nadpisze to twoje pliki w katalogu docelowym**).
    Zwykle chcesz krok `rsync` dotyczący `.config/ags`.

Uruchom `./install.sh -h`, aby zobaczyć więcej opcji.
## Instalacja ręczna
- `cd` do katalogu repozytorium
- Uruchom `git pull`, aby pobrać najnowsze zmiany.
- Skopiuj pliki, które chcesz. Zwykle folder `.config/ags`.
- Uruchom `manual-install-helper.sh`, aby zaktualizować część zależności.

# Deinstalacja
- Ręczna deinstalacja jest zdecydowanie zalecana.
- Aktualnie istnieje skrypt deinstalacji, ale jest daleki od ideału i nie jest aktywnie utrzymywany.
- Oto dłuższe wyjaśnienie, jeśli Cię to interesuje:

> Chodzi o to, że to repo nie jest typowym "oprogramowaniem", tylko zbiorem konfiguracji,
> Dlatego bardzo trudno jest napisać właściwy skrypt odinstalowujący,
> który powinien cofnąć wszystkie zmiany wprowadzone przez skrypt instalacyjny.
> 
> Na przykład skrypt instalacyjny zainstaluje `yay` (pomocnik AUR), jeśli go nie masz.
> Jednak co powinien zrobić skrypt odinstalowujący, by to cofnąć?
> - Usunąć `yay` lub `yay-bin`? Nie do końca, bo mogłeś już mieć któryś z nich zainstalowany samodzielnie (NIE przez skrypt instalacyjny).
> - Nawet gdyby skrypt instalacyjny zapisywał listę zainstalowanych pakietów, nadal nie jest właściwe usuwanie yay czy yay-bin, bo mogłeś go przeinstalować innego dnia po zakończeniu działania skryptu, więc faktycznie nie został zainstalowany przez skrypt.
> 
> Wniosek: prawie niemożliwe jest napisanie właściwego skryptu odinstalowującego.
> Lepiej samodzielnie cofnąć zmiany według potrzeb.

:::note[Stan obecny]
Ponieważ teraz używamy lokalnych PKGBUILD-ów dla dystrybucji opartych na Arch,
`uninstall.sh` potrafi przeprowadzić odpowiednią deinstalację pakietów Arch/AUR,
ale usuwanie plików konfiguracyjnych wciąż nie jest idealne.

Zobacz też https://github.com/end-4/dots-hyprland/issues/838#issuecomment-2406220007
:::
